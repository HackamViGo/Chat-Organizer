exports.id=885,exports.ids=[885],exports.modules={9504:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},7359:(e,t,a)=>{Promise.resolve().then(a.bind(a,7676))},1991:(e,t,a)=>{"use strict";a.d(t,{I:()=>et});var r,s=a(326),l=a(7577);!function(e){e.ChatGPT="chatgpt",e.Claude="claude",e.Gemini="gemini",e.Other="other"}(r||(r={}));var d=a(1472),i=a(8876),n=a(5047),o=a(2216),c=a(2130),x=a(1208),h=a(8319),m=a(3892),b=a(9392),u=a(1709),g=a(1584),p=a(4527),f=a(9163),k=a(9828),j=a(6343),v=a(6283),y=a(4389),N=a(5647),w=a(7546),Z=a(1821),C=a(7507),S=a(3468),z=a(2257),P=a(6562),_=a(9758),F=a(8106),A=a(7622),I=a(2280),T=a(4014),D=a(7427),E=a(5567),L=a(9798),O=a(850),M=a(5983),R=a(949),$=a(4019),G=a(9447),U=a(7129),K=a(8542),B=a(5206),J=a(3024),q=a(900),H=a(8091),Q=a(2933),V=a(1383),W=a(7027),X=a(1572);o.Z,c.Z,x.Z,h.Z,m.Z,b.Z,u.Z,g.Z,p.Z,f.Z,k.Z,j.Z,v.Z,y.Z,N.Z,w.Z,Z.Z,C.Z,S.Z,z.Z,P.Z,_.Z,F.Z,A.Z,I.Z,T.Z,D.Z,E.Z,L.Z,O.Z,M.Z;let Y={blue:"bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-500/30",purple:"bg-purple-100 dark:bg-purple-500/20 text-purple-700 dark:text-purple-300 border-purple-200 dark:border-purple-500/30",amber:"bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-300 border-amber-200 dark:border-amber-500/30",emerald:"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300 border-emerald-200 dark:border-emerald-500/30",rose:"bg-rose-100 dark:bg-rose-500/20 text-rose-700 dark:text-rose-300 border-rose-200 dark:border-rose-500/30",cyan:"bg-cyan-100 dark:bg-cyan-500/20 text-cyan-700 dark:text-cyan-300 border-cyan-200 dark:border-cyan-500/30",default:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-700"},ee=({platform:e})=>{let t={[r.ChatGPT]:"bg-emerald-500/10 dark:bg-emerald-500/20 text-emerald-600 dark:text-emerald-300 border-emerald-500/20 dark:border-emerald-500/30",[r.Claude]:"bg-orange-500/10 dark:bg-orange-500/20 text-orange-600 dark:text-orange-300 border-orange-500/20 dark:border-orange-500/30",[r.Gemini]:"bg-blue-500/10 dark:bg-blue-500/20 text-blue-600 dark:text-blue-300 border-blue-500/20 dark:border-blue-500/30",[r.Other]:"bg-gray-500/10 dark:bg-gray-500/20 text-gray-600 dark:text-gray-300 border-gray-500/20 dark:border-gray-500/30"};return s.jsx("span",{className:`text-[10px] uppercase tracking-wider font-bold px-2 py-0.5 rounded-full border ${t[e]}`,children:e})},et=({chat:e})=>{let{updateChat:t,deleteChat:a}=(0,d.a)(),{folders:o}=(0,i.t)(),c=(0,n.usePathname)(),[x,h]=(0,l.useState)(!1),[m,b]=(0,l.useState)(""),[u,g]=(0,l.useState)(!1),[p,f]=(0,l.useState)(!1),[k,j]=(0,l.useState)(!1),[y,N]=(0,l.useState)(!1),[w,Z]=(0,l.useState)(!1),[C,S]=(0,l.useState)(e.title),z=(0,l.useRef)(null),[P,_]=(0,l.useState)(!1),[F,A]=(0,l.useState)(e.summary||""),[I,T]=(0,l.useState)(!1),[D,E]=(0,l.useState)(e.url||"");(0,l.useEffect)(()=>{w&&z.current&&z.current.focus()},[w]),(0,l.useEffect)(()=>{},[c,e.id]);let L=async()=>{if(!e.content)return;h(!0),b("Generating Title...");let a=setTimeout(()=>b("Summarizing content..."),1e3),r=setTimeout(()=>b("Extracting tasks..."),2e3);try{let a=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e.content,chatId:e.id})});if(!a.ok)throw Error("AI analysis failed");let r=await a.json();await t(e.id,{title:r.title,summary:r.summary,tasks:r.tasks})}catch(e){console.error("AI Analysis error:",e)}finally{clearTimeout(a),clearTimeout(r),h(!1),b("")}},O=async()=>{C.trim()&&C!==e.title?await t(e.id,{title:C.trim()}):S(e.title),Z(!1)},et=async()=>{F!==e.summary&&await t(e.id,{summary:F}),_(!1)},ea=async()=>{await t(e.id,{url:D.trim()||void 0}),T(!1)},er=async a=>{await t(e.id,{folder_id:a}),j(!1),g(!1)},es=async()=>{await t(e.id,{is_archived:!e.is_archived}),g(!1)},el=o.find(t=>t.id===e.folder_id),ed=M.Z,ei=el?.color?Y[el.color]||Y.default:"";return s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{id:e.id,draggable:!0,onDragStart:t=>{t.dataTransfer.setData("chatId",e.id),t.dataTransfer.effectAllowed="move"},className:`glass-card rounded-xl p-5 relative group flex flex-col h-full cursor-grab active:cursor-grabbing text-slate-900 dark:text-white transition-all duration-500
          ${y?"ring-2 ring-cyan-500 shadow-lg shadow-cyan-500/20 scale-[1.02]":""}
        `,children:[p&&(0,s.jsxs)("div",{className:"absolute inset-0 z-20 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm rounded-xl flex flex-col items-center justify-center text-center p-4 animate-in fade-in duration-200",children:[s.jsx(R.Z,{className:"text-red-500 mb-2",size:32}),s.jsx("h4",{className:"font-bold mb-1 text-slate-900 dark:text-white",children:"Delete Chat?"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-4",children:"This action cannot be undone."}),(0,s.jsxs)("div",{className:"flex gap-2 w-full",children:[s.jsx("button",{onClick:e=>{e.stopPropagation(),f(!1)},className:"flex-1 px-3 py-2 rounded-lg bg-slate-200 dark:bg-white/10 hover:bg-slate-300 dark:hover:bg-white/20 text-sm transition-colors text-slate-700 dark:text-slate-200",children:"Cancel"}),s.jsx("button",{onClick:t=>{t.stopPropagation(),a(e.id)},className:"flex-1 px-3 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-sm text-white transition-colors",children:"Delete"})]})]}),k&&(0,s.jsxs)("div",{className:"absolute inset-0 z-20 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm rounded-xl p-4 animate-in fade-in duration-200 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h4",{className:"font-bold",children:"Move to..."}),s.jsx("button",{onClick:()=>j(!1),className:"text-slate-400 hover:text-slate-900 dark:hover:text-white",children:s.jsx($.Z,{size:16})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-1 custom-scrollbar",children:[s.jsx("button",{onClick:()=>er(void 0),className:"w-full text-left px-3 py-2 rounded text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-white/10",children:"No Folder (Root)"}),o.map(t=>{let a=M.Z;return(0,s.jsxs)("button",{onClick:()=>er(t.id),className:`w-full text-left px-3 py-2 rounded text-sm hover:bg-slate-200 dark:hover:bg-white/10 flex items-center gap-2
                      ${e.folder_id===t.id?"text-cyan-600 dark:text-cyan-400 bg-cyan-50 dark:bg-white/5":"text-slate-700 dark:text-slate-300"}
                    `,children:[s.jsx(a,{size:14,className:e.folder_id===t.id?"text-cyan-500":"text-slate-400"}),t.name]},t.id)})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[s.jsx(ee,{platform:e.platform||r.Other}),el&&(0,s.jsxs)("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-full border ${ei}`,children:[s.jsx(ed,{size:10}),s.jsx("span",{className:"text-[10px] font-medium",children:el.name})]})]}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("button",{onClick:()=>g(!u),className:"text-slate-400 hover:text-slate-900 dark:hover:text-white p-1 rounded-md hover:bg-slate-200 dark:hover:bg-white/10 transition-colors",children:s.jsx(G.Z,{size:16})}),u&&(0,s.jsxs)("div",{className:"absolute right-0 top-8 w-44 bg-white dark:bg-slate-900 border border-slate-200 dark:border-white/10 rounded-lg shadow-xl z-10 overflow-hidden text-sm animate-in fade-in zoom-in-95 duration-200",children:[(0,s.jsxs)("button",{onClick:()=>{_(!0),g(!1)},className:"w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-white/10 flex items-center gap-2 text-slate-700 dark:text-slate-300",children:[s.jsx(v.Z,{size:14})," Edit Description"]}),(0,s.jsxs)("button",{onClick:()=>{T(!0),g(!1)},className:"w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-white/10 flex items-center gap-2 text-slate-700 dark:text-slate-300",children:[s.jsx(U.Z,{size:14})," Edit Source URL"]}),(0,s.jsxs)("button",{onClick:()=>{j(!0),g(!1)},className:"w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-white/10 flex items-center gap-2 text-slate-700 dark:text-slate-300",children:[s.jsx(K.Z,{size:14})," Move to Folder"]}),(0,s.jsxs)("button",{onClick:()=>{Z(!0),g(!1)},className:"w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-white/10 flex items-center gap-2 text-slate-700 dark:text-slate-300",children:[s.jsx(B.Z,{size:14})," Rename"]}),(0,s.jsxs)("button",{onClick:es,className:"w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-white/10 flex items-center gap-2 text-slate-700 dark:text-slate-300",children:[e.is_archived?s.jsx(J.Z,{size:14}):s.jsx(q.Z,{size:14}),e.is_archived?"Restore":"Archive"]}),s.jsx("div",{className:"h-px bg-slate-200 dark:bg-white/5 my-1"}),(0,s.jsxs)("button",{onClick:()=>{f(!0),g(!1)},className:"w-full text-left px-4 py-2 hover:bg-red-50 dark:hover:bg-red-500/20 text-red-600 dark:text-red-400 flex items-center gap-2",children:[s.jsx(H.Z,{size:14})," Delete"]})]})]})]}),s.jsx("div",{className:"mb-2 min-h-[28px]",children:w?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("input",{ref:z,value:C,onChange:e=>S(e.target.value),onBlur:O,onKeyDown:t=>{"Enter"===t.key&&O(),"Escape"===t.key&&(S(e.title),Z(!1))},className:"w-full bg-white dark:bg-black/40 border border-cyan-500/50 rounded px-2 py-0.5 text-lg font-semibold text-slate-900 dark:text-white focus:outline-none"}),s.jsx("button",{onClick:O,className:"text-cyan-600 dark:text-cyan-400",children:s.jsx(Q.Z,{size:18})})]}):s.jsx("h3",{onClick:()=>Z(!0),className:"font-semibold text-lg leading-tight hover:text-cyan-600 dark:hover:text-cyan-300 cursor-text transition-colors truncate text-slate-800 dark:text-slate-100",title:"Click to rename",children:e.title})}),s.jsx("div",{className:"flex-1 mb-4 relative group/desc",children:P?(0,s.jsxs)("div",{className:"h-full flex flex-col gap-2",children:[s.jsx("textarea",{autoFocus:!0,className:"w-full h-full min-h-[100px] bg-slate-50 dark:bg-black/30 border border-cyan-500 rounded p-2 text-sm text-slate-800 dark:text-slate-200 focus:outline-none resize-none",value:F,onChange:e=>A(e.target.value),placeholder:"Enter a description..."}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>{A(e.summary||""),_(!1)},className:"text-xs px-2 py-1 text-slate-500",children:"Cancel"}),s.jsx("button",{onClick:et,className:"text-xs px-2 py-1 bg-cyan-600 text-white rounded",children:"Save"})]})]}):s.jsx(s.Fragment,{children:e.summary?s.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-3 cursor-text",onClick:()=>_(!0),title:"Click to edit description",children:e.summary}):s.jsx("p",{className:"text-sm text-slate-500 italic cursor-pointer hover:text-cyan-600",onClick:()=>_(!0),children:"No description. Click to add."})})}),e.tasks&&Array.isArray(e.tasks)&&e.tasks.length>0&&(0,s.jsxs)("div",{className:"mb-4 space-y-1",children:[e.tasks.slice(0,2).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-300",children:[s.jsx(V.Z,{size:12,className:"text-cyan-600 dark:text-cyan-400 shrink-0"}),s.jsx("span",{className:"truncate",children:e})]},t)),e.tasks.length>2&&(0,s.jsxs)("div",{className:"text-xs text-slate-400 dark:text-slate-500 pl-5",children:["+",e.tasks.length-2," more tasks"]})]}),s.jsx("div",{className:"mt-auto",children:I?(0,s.jsxs)("div",{className:"pt-4 border-t border-slate-200 dark:border-white/5 flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(U.Z,{size:14,className:"text-slate-400"}),s.jsx("input",{autoFocus:!0,className:"flex-1 bg-slate-50 dark:bg-black/30 border border-cyan-500/50 rounded px-2 py-1 text-xs text-slate-900 dark:text-white focus:outline-none",placeholder:"https://...",value:D,onChange:e=>E(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>{E(e.url||""),T(!1)},className:"text-[10px] px-2 py-1 bg-slate-200 dark:bg-white/10 rounded hover:bg-slate-300 dark:hover:bg-white/20 text-slate-600 dark:text-slate-300",children:"Cancel"}),s.jsx("button",{onClick:ea,className:"text-[10px] px-2 py-1 bg-cyan-600 hover:bg-cyan-500 text-white rounded font-medium",children:"Save URL"})]})]}):(0,s.jsxs)("div",{className:"pt-4 border-t border-slate-200 dark:border-white/5 flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[e.url&&s.jsx("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"p-2 rounded-lg bg-slate-100 dark:bg-white/5 hover:bg-slate-200 dark:hover:bg-white/10 text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors",title:"Open Original",children:s.jsx(W.Z,{size:16})}),s.jsx("button",{onClick:L,disabled:x,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium transition-all min-w-[100px] justify-center
                    ${x?"bg-cyan-100 dark:bg-cyan-500/20 text-cyan-700 dark:text-cyan-300 border border-cyan-200 dark:border-cyan-500/30":"bg-cyan-600 hover:bg-cyan-500 text-white shadow-[0_0_15px_-3px_rgba(8,145,178,0.4)]"}`,children:x?s.jsx("span",{children:m||"Processing..."}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(X.Z,{size:14})," Analyze"]})})]})]})})]})})}},7676:(e,t,a)=>{"use strict";a.d(t,{Sidebar:()=>h});var r=a(326);a(7577);var s=a(434),l=a(5047),d=a(4559),i=a(1256),n=a(5983),o=a(9673),c=a(900),x=a(8378);function h(){let e=(0,l.usePathname)(),t=[{href:"/",label:"Dashboard",icon:d.Z},{href:"/studio",label:"AI Studio",icon:i.Z},{href:"/chats",label:"My Chats",icon:n.Z},{href:"/prompts",label:"Prompts",icon:o.Z},{href:"/archive",label:"Archive",icon:c.Z},{href:"/settings",label:"Settings",icon:x.Z}];return(0,r.jsxs)("aside",{className:"w-64 h-screen border-r bg-card",children:[r.jsx("div",{className:"p-6",children:r.jsx("h2",{className:"text-lg font-semibold",children:"Mega-Pack"})}),r.jsx("nav",{className:"space-y-1 px-3",children:t.map(t=>{let a=t.icon,l=e===t.href;return(0,r.jsxs)(s.default,{href:t.href,className:`flex items-center gap-3 px-3 py-2 rounded-md transition-colors ${l?"bg-primary text-primary-foreground":"hover:bg-accent hover:text-accent-foreground"}`,children:[r.jsx(a,{className:"w-5 h-5"}),r.jsx("span",{children:t.label})]},t.href)})})]})}},1472:(e,t,a)=>{"use strict";a.d(t,{a:()=>r});let r=(0,a(8408).U)(e=>({chats:[],selectedChatId:null,isLoading:!1,setChats:t=>e({chats:t}),addChat:t=>e(e=>({chats:[t,...e.chats]})),updateChat:(t,a)=>e(e=>({chats:e.chats.map(e=>e.id===t?{...e,...a}:e)})),deleteChat:t=>e(e=>({chats:e.chats.filter(e=>e.id!==t)})),selectChat:t=>e({selectedChatId:t}),setLoading:t=>e({isLoading:t})}))},8876:(e,t,a)=>{"use strict";a.d(t,{t:()=>r});let r=(0,a(8408).U)(e=>({folders:[],selectedFolderId:null,isLoading:!1,setFolders:t=>e({folders:t}),addFolder:t=>e(e=>({folders:[t,...e.folders]})),updateFolder:(t,a)=>e(e=>({folders:e.folders.map(e=>e.id===t?{...e,...a}:e)})),deleteFolder:t=>e(e=>({folders:e.folders.filter(e=>e.id!==t)})),selectFolder:t=>e({selectedFolderId:t}),setLoading:t=>e({isLoading:t})}))},7833:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n,metadata:()=>i});var r=a(9510),s=a(5384),l=a.n(s);let d=(0,a(8570).createProxy)(String.raw`D:\mega-pack\src\components\layout\Sidebar.tsx#Sidebar`);a(5023);let i={title:"Mega-Pack AI Studio",description:"AI Chat Organizer - Intelligent Knowledge Manager",manifest:"/manifest.json",themeColor:"#000000"};function n({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[(0,r.jsxs)("head",{children:[r.jsx("link",{rel:"manifest",href:"/manifest.json"}),r.jsx("meta",{name:"theme-color",content:"#000000"})]}),r.jsx("body",{className:l().className,children:(0,r.jsxs)("div",{className:"flex",children:[r.jsx(d,{}),r.jsx("main",{className:"flex-1",children:e})]})})]})}},5023:()=>{}};