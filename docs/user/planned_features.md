# BrainBox Extension: –ü—ä—Ç–Ω–∞ –∫–∞—Ä—Ç–∞ –∑–∞ –æ–±–Ω–æ–≤—è–≤–∞–Ω–µ (Upgrade Roadmap)

> [!IMPORTANT]
> **–ò–ù–°–¢–†–£–ö–¶–ò–Ø –ó–ê AI –ê–ì–ï–ù–¢–ò:**
> –î–ê –ù–ï –°–ï –ü–†–û–ú–ï–ù–Ø –ù–ò–©–û –ü–û –ü–†–û–ï–ö–¢–ê –ø—Ä–µ–¥–∏ –∏–∑—Ä–∏—á–Ω–æ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è. –¢–æ–∑–∏ –¥–æ–∫—É–º–µ–Ω—Ç —Å–ª—É–∂–∏ –ï–î–ò–ù–°–¢–í–ï–ù–û –∫–∞—Ç–æ –Ω–∞—Å–æ–∫–∞ –∑–∞ –∏–∑–≥–æ—Ç–≤—è–Ω–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –∑–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ (features). –í—Å—è–∫–∞ –ø—Ä–æ–º—è–Ω–∞ –ø–æ –∫–æ–¥–∞ –±–µ–∑ –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ –µ —Å—Ç—Ä–æ–≥–æ –∑–∞–±—Ä–∞–Ω–µ–Ω–∞.

–¢–æ–∑–∏ –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å–≤–∞ –ø–ª–∞–Ω–∏—Ä–∞–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∏ –ø—Ä–æ–º–µ–Ω–∏ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—ä—Å —Å–µ–≥–∞—à–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ —Ä–∞–∑—à–∏—Ä–µ–Ω–∏–µ—Ç–æ BrainBox.

---

## üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –°–µ–≥–∞—à–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ vs. –ü–ª–∞–Ω–∏—Ä–∞–Ω–æ

| –§—É–Ω–∫—Ü–∏—è | –°–µ–≥–∞—à–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ (Current) | –ü–ª–∞–Ω–∏—Ä–∞–Ω–æ (Planned) |
| :--- | :--- | :--- |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | **–ú–æ–Ω–æ–ª–∏—Ç–Ω–∞**: –ï–¥–∏–Ω —Ñ–∞–π–ª `service-worker.js` (1600+ —Ä–µ–¥–∞) —É–ø—Ä–∞–≤–ª—è–≤–∞ –≤—Å–∏—á–∫–æ. –¢–≤—ä—Ä–¥–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ –∑–∞ –ø–æ–¥–¥—Ä—ä–∂–∫–∞. | **–ú–æ–¥—É–ª–Ω–∞**: –†–∞–∑–¥–µ–ª—è–Ω–µ –Ω–∞ `Auth`, `Menus` –∏ `Sync` –≤ –æ—Ç–¥–µ–ª–Ω–∏ ES –º–æ–¥—É–ª–∏ –∑–∞ –ø–æ-–≤–∏—Å–æ–∫–∞ —Å—Ç–∞–±–∏–ª–Ω–æ—Å—Ç. |
| **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∏ –º–µ–Ω—é—Ç–∞** | **–°—Ç–∞—Ç–∏—á–Ω–∏**: 2 —Ñ–∏–∫—Å–∏—Ä–∞–Ω–∏ –æ–ø—Ü–∏–∏ (–ó–∞–ø–∞–∑–∏ —á–∞—Ç / –ó–∞–ø–∞–∑–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ). –ù–µ —Å–µ –ø—Ä–æ–º–µ–Ω—è—Ç. | **–î–∏–Ω–∞–º–∏—á–Ω–∏ (2x3)**: –ü–æ–¥–º–µ–Ω—é—Ç–∞, –∫–æ–∏—Ç–æ —Å–µ –æ–±–Ω–æ–≤—è–≤–∞—Ç –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ —Å—ä—Å –∑–∞–ø–∏—Å–∏—Ç–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è (–ü–æ—Å–ª–µ–¥–Ω–∏ –ø—Ä–æ–º–ø—Ç–æ–≤–µ, –¢–∞–≥–æ–≤–µ). |
| **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Popup)** | **–ë–∞–∑–æ–≤**: –ú–∞–ª—ä–∫ —Ä–∞–∑–º–µ—Ä (320px), –±–µ–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, –±–µ–∑ –ø—Ä–µ–∫–∏ –≤—Ä—ä–∑–∫–∏ –∫—ä–º AI –º–æ–¥–µ–ª–∏. | **–ü—Ä–µ–º–∏—É–º**: –†–∞–∑—à–∏—Ä–µ–Ω (350px), Auth —Å—Ç–∞—Ç—É—Å, –ø—Ä–µ–∫–∏ –ø—ä—Ç–∏—â–∞ –∫—ä–º 10+ AI –º–æ–¥–µ–ª–∞, Toggles –∑–∞ —Ñ—É–Ω–∫—Ü–∏–∏. |
| **–ê—É—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è** | **–ü–∞—Å–∏–≤–Ω–∞**: –†–∞–∑—á–∏—Ç–∞ –Ω–∞ —É–ª–∞–≤—è–Ω–µ –Ω–∞ —Ç–æ–∫–µ–Ω–∏ –æ—Ç –æ—Ç–≤–æ—Ä–µ–Ω–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∏. –ù—è–º–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ. | **–ê–∫—Ç–∏–≤–Ω–∞ (AuthManager)**: –î–∏—Ä–µ–∫—Ç–Ω–∞ –≤—Ä—ä–∑–∫–∞ —Å Dashboard, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Å–∏–∏ –∏ –±—ä—Ä–∑ Login/Logout. |
| **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** | **–ï–¥–Ω–æ–ø–æ—Å–æ—á–Ω–∞**: –°–∞–º–æ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏ (Save) –æ—Ç –±—Ä–∞—É–∑—ä—Ä–∞ –∫—ä–º –æ–±–ª–∞–∫–∞. | **–î–≤—É–ø–æ—Å–æ—á–Ω–∞ (Sync)**: –ò–∑–¥—ä—Ä–ø–≤–∞–Ω–µ (Pull) –Ω–∞ –ø—Ä–æ–º–ø—Ç–æ–≤–µ –æ—Ç –æ–±–ª–∞–∫–∞ –∑–∞ –ø–æ–ª–∑–≤–∞–Ω–µ –¥–∏—Ä–µ–∫—Ç–Ω–æ –≤ ChatGPT/Claude/Gemini. |

---

## üèóÔ∏è 1. –ü–ª–∞–Ω–∏—Ä–∞–Ω–∞ –ú–æ–¥—É–ª–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Background)
–ü–ª–∞–Ω–∏—Ä–∞ —Å–µ —Ä–∞–∑–¥–µ–ª—è–Ω–µ –Ω–∞ –º–æ–Ω–æ–ª–∏—Ç–∞ –Ω–∞ —Ç—Ä–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –º–æ–¥—É–ª–∞:

### A. AuthManager (`authManager.js`)
*   **–°–µ–≥–∞**: –õ–æ–≥–∏–∫–∞—Ç–∞ –∑–∞ —Ç–æ–∫–µ–Ω–∏ –µ —Ä–∞–∑–ø—Ä—ä—Å–Ω–∞—Ç–∞ –≤ `service-worker.js`.
*   **–ù–æ–≤–æ**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∏—Ä–∞–Ω –º–æ–¥—É–ª –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å, —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —Å–µ—Å–∏–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å `localhost:3000`.

### B. DynamicMenus (`dynamicMenus.js`)
*   **–°–µ–≥–∞**: –ú–µ–Ω—é—Ç–∞—Ç–∞ —Å–µ —Å—ä–∑–¥–∞–≤–∞—Ç –µ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ.
*   **–ù–æ–≤–æ**: –ò–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ç–Ω–æ –¥—ä—Ä–≤–æ –æ—Ç –ø–æ–¥–º–µ–Ω—é—Ç–∞. –ü—Ä–∏ –≤—Å—è–∫–∞ –ø—Ä–æ–º—è–Ω–∞ –≤ –±–∞–∑–∞—Ç–∞, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ—Ç–æ –º–µ–Ω—é —Å–µ –æ–±–Ω–æ–≤—è–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å –Ω–∞–π-–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–º–ø—Ç–æ–≤–µ.

### C. PromptSyncManager (`promptSync.js`)
*   **–°–µ–≥–∞**: –ü—Ä–æ–º–ø—Ç–æ–≤–µ—Ç–µ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç —Å–∞–º–æ –≤ –±–µ–∫–µ–Ω–¥–∞.
*   **–ù–æ–≤–æ**: –õ–æ–∫–∞–ª–Ω–æ –∫–µ—à–∏—Ä–∞–Ω–µ –≤ –±—Ä–∞—É–∑—ä—Ä–∞, –∫–æ–µ—Ç–æ –ø–æ–∑–≤–æ–ª—è–≤–∞ —Å–≤–µ—Ç–∫–∞–≤–∏—á–Ω–æ –≤–º—ä–∫–≤–∞–Ω–µ –Ω–∞ —à–∞–±–ª–æ–Ω–∏ –≤ —Ç–µ–∫—Å—Ç–æ–≤–∏—Ç–µ –ø–æ–ª–µ—Ç–∞.

---

## üì± 2. –ù–æ–≤ –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Popup UI)
–ü—ä–ª–Ω–∞ –ø–æ–¥–º—è–Ω–∞ –Ω–∞ `popup.html` –∏ `popup.js`:

*   **–î–∏–∑–∞–π–Ω**: 
    *   –ü—Ä–µ–º–∏–Ω–∞–≤–∞–Ω–µ –æ—Ç –±—è–ª —Ñ–æ–Ω –∫—ä–º –º–æ–¥–µ—Ä–Ω–∏ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∏ –∏ –ø–æ-—à–∏—Ä–æ–∫–æ –ø–ª–∞—Ç–Ω–æ.
*   **–¶–µ–Ω—Ç—ä—Ä –∑–∞ –≤–ø–∏—Å–≤–∞–Ω–µ (Auth UI)**:
    *   –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –∞–≤–∞—Ç–∞—Ä–∞/–∏–º–µ—Ç–æ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –¥–∏—Ä–µ–∫—Ç–Ω–æ –≤ —Ä–∞–∑—à–∏—Ä–µ–Ω–∏–µ—Ç–æ.
*   **Quick Links Grid**:
    *   **–°–µ–≥–∞**: –¢—Ä—è–±–≤–∞ –¥–∞ —Ç—ä—Ä—Å–∏—Ç–µ AI —Å–∞–π—Ç–æ–≤–µ—Ç–µ —Ä—ä—á–Ω–æ.
    *   **–ù–æ–≤–æ**: –ë—É—Ç–æ–Ω–∏ –∑–∞ –±—ä—Ä–∑ –¥–æ—Å—Ç—ä–ø –¥–æ ChatGPT, Gemini, Claude, LMArena, DeepSeek, Qwen –∏ –¥—Ä.

---

## ‚öôÔ∏è 3. –°–µ–≥–∞—à–Ω–∞ –ª–æ–≥–∏–∫–∞ –Ω–∞ Service Worker
–í –º–æ–º–µ–Ω—Ç–∞ `service-worker.js` –∏–∑–ø—ä–ª–Ω—è–≤–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ –∫—Ä–∏—Ç–∏—á–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (–∫–æ–∏—Ç–æ —â–µ –±—ä–¥–∞—Ç –∑–∞–ø–∞–∑–µ–Ω–∏, –Ω–æ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞–Ω–∏):

1.  **Token Interception**: –°–ª—É—à–∞ `webRequest` –∑–∞—è–≤–∫–∏ –∑–∞ —É–ª–∞–≤—è–Ω–µ –Ω–∞ `Bearer` —Ç–æ–∫–µ–Ω–∏ (ChatGPT) –∏ `AT` —Ç–æ–∫–µ–Ω–∏ (Gemini).
2.  **Normalization Engine**: –ò–∑–ø–æ–ª–∑–≤–∞ `normalizers.js` –∑–∞ –ø—Ä–µ–≤—Ä—ä—â–∞–Ω–µ –Ω–∞ —Å—É—Ä–æ–≤–∏—è JSON –æ—Ç AI –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏—Ç–µ –≤ —á–∏—Å—Ç BrainBox —Ñ–æ—Ä–º–∞—Ç.
3.  **Image Processing**: –£–ª–∞–≤—è URL –∞–¥—Ä–µ—Å–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –≥–∏ –ø—Ä–µ–ø—Ä–∞—â–∞ –∫—ä–º –±–µ–∫–µ–Ω–¥–∞ –∑–∞ –∞–Ω–∞–ª–∏–∑ –∏ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ.
4.  **Schema Validation**: –ì–∞—Ä–∞–Ω—Ç–∏—Ä–∞, —á–µ –≤—Å–µ–∫–∏ –∑–∞–ø–∏—Å–≤–∞–Ω —á–∞—Ç –æ—Ç–≥–æ–≤–∞—Ä—è –Ω–∞ `schemas.js`.

---

## üõ†Ô∏è 4. –ü–ª–∞–Ω –∑–∞ –≤–Ω–µ–¥—Ä—è–≤–∞–Ω–µ –±–µ–∑ –ø—Ä–µ–∫—ä—Å–≤–∞–Ω–µ –Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç–∞
1.  **–°—Ç—ä–ø–∫–∞ 1**: –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ –ø–∞—Ä–∞–ª–µ–ª–Ω–æ —Å—ä—Å —Å—Ç–∞—Ä–∞—Ç–∞ –ª–æ–≥–∏–∫–∞.
2.  **–°—Ç—ä–ø–∫–∞ 2**: –ü—Ä–µ–≤–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ `manifest.json` –∫—ä–º –Ω–æ–≤–∞—Ç–∞ –º–æ–¥—É–ª–Ω–∞ —Å–∏—Å—Ç–µ–º–∞.
3.  **–°—Ç—ä–ø–∫–∞ 3**: –¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ `authManager` –≤—Ä—ä–∑–∫–∞—Ç–∞ —Å –ª–æ–∫–∞–ª–Ω–∏—è —Å—ä—Ä–≤—ä—Ä.
4.  **–°—Ç—ä–ø–∫–∞ 4**: –§–∏–Ω–∞–ª–Ω–æ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –æ—Å—Ç–∞—Ä—è–ª–∞—Ç–∞ —Ç–µ–∂–∫–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç `service-worker.js`.

---
**–°—Ç–∞—Ç—É—Å**: –ü–ª–∞–Ω–∏—Ä–∞–Ω–æ (Pending implementation)  
**–†–µ–≤–∏–∑–∏—è**: 1.1 (–î–æ–±–∞–≤–µ–Ω–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—ä—Å —Å–µ–≥–∞—à–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ)
