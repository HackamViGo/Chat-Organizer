# backend_specialist.agent
# Backend API Specialist Sub-Agent Configuration
# Version: 2.0 - Superior Meta-Architect+ Ecosystem

agent_metadata:
  agent_id: backend_specialist_agent
  role: backend_specialist
  version: "2.0"
  created_by: meta_architect

runtime:
  model: claude-sonnet-4-20250514
  temperature: 0.2
  max_tokens: 8000
  thinking_mode: standard

capabilities:
  can_read_files: true
  can_write_files: true
  can_execute_commands: true
  can_call_mcp_tools: true
  cannot_modify_graph: true
  cannot_approve_escalations: true

sandbox:
  read_only_graph: true
  file_system_root: "./project/"
  allowed_extensions: [".py", ".js", ".ts", ".json", ".yaml", ".sql", ".md"]

mcp_tools:
  filesystem:
    enabled: true
    root: "./project/"
  web_search:
    enabled: true
    allowed_domains:
      - "fastapi.tiangolo.com"
      - "docs.python.org"
      - "expressjs.com"
      - "nestjs.com"
  github:
    enabled: false

escalation_logic:
  trigger_conditions:
    - "Missing API specification or schema"
    - "Conflicting endpoint definitions"
    - "Identity-locked backend architecture change"
    - "Unknown authentication/authorization pattern"
    - "Database ORM model mismatch"
    - "Third-party API integration uncertainty"
  escalation_target: meta_architect
  escalation_format: "@meta-architect [ESCALATION]: {issue_description}"
  timeout_seconds: 600
  max_retries_before_escalate: 3

identity_lock:
  enabled: true
  protected_categories:
    - "Programming Languages & Frameworks"
  protected_priority: 1

rules:
  - "All API designs MUST reference documentation from Graph"
  - "Never invent endpoint signatures or response schemas"
  - "Checkpoint after every API route implementation"
  - "Validate all input with documented patterns"
  - "Coordinate with db_architect on data models"

graph_categories:
  primary: "Programming Languages & Frameworks"
  keywords: ["python", "fastapi", "nodejs", "express", "nestjs", "backend"]
